@page
@model ForgotPasswordModel
@{
    ViewData["Title"] = "Forgot Password";
}
@section Styles {
    <link rel="stylesheet" href="~/css/login.css" />
}
<div class="login-page">
    <div class="login-box">
        @if (Model.EmailSent)
        {
            <!-- Success Message -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="
                    width: 80px;
                    height: 80px;
                    margin: 0 auto 1.25rem;
                    border-radius: 50%;
                    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
                    ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" viewBox="0 0 16 16">
                        <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.026A2 2 0 0 0 2 14h6.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586l-1.239-.757ZM16 4.697v4.974A4.491 4.491 0 0 0 12.5 8a4.49 4.49 0 0 0-1.965.45l-.338-.207L16 4.697Z" />
                        <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686Z" />
                    </svg>
                </div>

                <h1 style="
                    font-size: 1.75rem;
                    font-weight: 700;
                    color: #111827;
                    margin-bottom: 0.75rem;
                    ">
                    Check Your Email
                </h1>

                <p style="
                    color: #6b7280;
                    font-size: 0.95rem;
                    line-height: 1.5;
                    margin-bottom: 1rem;
                    ">
                    We've sent a password reset link to <strong>@Model.Input.Email</strong>
                </p>

                <p style="
                    color: #6b7280;
                    font-size: 0.875rem;
                    line-height: 1.5;
                    ">
                    Please check your inbox and click the link to reset your password. The link will expire in 24 hours.
                </p>
            </div>

            <!-- Action Buttons -->
            <a asp-page="./Login" class="btn-login" style="text-decoration: none; display: block; text-align: center; margin-bottom: 0.5rem;">
                Back to Login
            </a>

            <button type="button" onclick="location.reload()" class="btn-login" style="background-color: #6b7280;">
                Send Another Email
            </button>

            <div class="links" style="margin-top: 1.5rem;">
                <p style="color: #6b7280; font-size: 0.85rem;">
                    Didn't receive the email? Check your spam folder or try again.
                </p>
            </div>
        }
        else
        {
            <!-- Header -->
            <div class="login-header">
                <h1>Forgot Password?</h1>
                <p>Enter your email address and we'll send you a link to reset your password.</p>
            </div>

            <!-- Form -->
            <form method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3" role="alert"></div>

                <div class="form-group">
                    <label asp-for="Input.Email">
                        Email Address <span class="text-danger">*</span>
                    </label>
                    <input asp-for="Input.Email"
                           type="email"
                           class="form-control"
                           autocomplete="username"
                           aria-required="true"
                           placeholder="name@example.com" />
                    <span asp-validation-for="Input.Email" class="text-danger"></span>
                </div>

                <button type="submit" class="btn-login">
                    Send Reset Link
                </button>
            </form>

            <!-- Links -->
            <div class="links">
                <a asp-page="./Login">← Back to Login</a>
                <span style="color: #d1d5db; margin: 0 0.5rem;">|</span>
                <a asp-page="./Register">Create an account</a>
            </div>
        }
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}